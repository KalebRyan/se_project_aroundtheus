!function(){"use strict";class e{constructor(e,t,s,r,i){let{name:n,link:o,isLiked:a,_id:l}=e;this._name=n,this._link=o,this.isLiked=a,this.id=l,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=r,this._handleLikeClick=i}_setEventListeners(){this._cardImage.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._likeButton.addEventListener("click",(()=>{this._handleLikeClick(this)}))}handleDeleteIcon(){this._cardElement.remove(),this._cardElement=null}handleLikeIcon(e){this.isLiked=e,this.renderLikes()}renderLikes(){this.isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}getCard(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this.renderLikes(),this._setEventListeners(),this._cardElement}}class t{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}renderItems(){this._items.reverse().forEach((e=>{this._renderer(e)}))}}class s{constructor(e,t){this._form=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}_showInputError(e){this._errorMessageElement=this._form.querySelector(`#${e.id}-error`),e.classList.add(this._inputErrorClass),this._errorMessageElement.textContent=e.validationMessage,this._errorMessageElement.classList.add(this._errorClass)}_hideInputError(e){this._errorMessageElement=this._form.querySelector(`#${e.id}-error`),e.classList.remove(this._inputErrorClass),this._errorMessageElement.textContent=" ",this._errorMessageElement.classList.remove(this._errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}_disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputElements=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetValidation(){this.toggleButtonState(),this._inputElements.forEach((e=>{this._hideInputError(e)}))}toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}}class r{constructor(e){let{modalSelector:t}=e;this._modalElement=document.querySelector(t)}open(){this._modalElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._modalElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._modalElement.addEventListener("mousedown",(e=>{e.target===e.currentTarget&&this.close()})),this._modalElement.querySelector(".modal__close-button").addEventListener("click",(()=>{this.close()}))}}class i extends r{constructor(e,t){let{modalSelector:s}=e;super({modalSelector:s}),this._handleFormSubmit=t,this._form=this._modalElement.querySelector(".modal__form"),this._saveButton=this._modalElement.querySelector(".modal__button"),this._buttonText=this._saveButton.textContent}_getInputValues(){return this._inputList=this._modalElement.querySelectorAll(".modal__input"),this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}getFormName(){return this._form.getAttribute("name")}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._saveButton.textContent=e?t:this._buttonText}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}close(){super.close(),this._form.reset()}}document.querySelector("#profile__edit-modal");const n=document.querySelector("#profile__edit-button"),o=(document.forms["profile-form"],document.querySelectorAll(".modal__close-button"),document.querySelector(".modal__input_type_name")),a=document.querySelector(".modal__input_type_description"),l=document.querySelector("#profile__avatar-edit-button"),d=document.querySelector("#card__template").content.firstElementChild,c=(document.querySelector("#card__add-modal"),document.querySelector("#profile__add-button")),_=(document.forms["card-form"],d.querySelector(".card__delete-button"),new class{constructor(e){let{nameSelector:t,descriptionSelector:s,avatarSelector:r}=e;this._name=document.querySelector(t),this._description=document.querySelector(s),this._avatar=document.querySelector(r)}getUserInfo(){return{name:this._name.textContent,description:this._description.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._name.textContent=t,this._description.textContent=s}setUserAvatar(e){this._avatar.src=e}}({nameSelector:".profile__title",descriptionSelector:".profile__description",avatarSelector:".profile__avatar"})),h=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_handleResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_request(e,t){return fetch(e,t).then(this._handleResponse)}getUserInfo(){return this._request(`${this._baseUrl}/users/me`,{headers:this._headers})}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{headers:this._headers})}setUserInfo(e){let{name:t,description:s}=e;return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})})}addCard(e){let{name:t,link:s}=e;return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})})}removeCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}likeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers})}removeLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}updateAvatar(e){let{avatar:t}=e;return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"24d24150-f342-4b21-ba37-43c96c87f158","Content-Type":"application/json"}});function u(t){return new e(t,"#card__template",E,k,b).getCard()}let m;function p(e,t,s){t.renderLoading(!0,s),e().then((()=>{t.close()})).catch(console.error).finally((()=>{t.renderLoading(!1)}))}Promise.all([h.getUserInfo(),h.getInitialCards()]).then((e=>{let[s,r]=e;_.setUserInfo(s),_.setUserAvatar(s.avatar),m=new t({items:r,renderer:e=>{const t=u(e);m.addItem(t)}},".cards__list"),m.renderItems()})).catch(console.error);const v=new class extends r{constructor(e){let{modalSelector:t}=e;super({modalSelector:t}),this._image=this._modalElement.querySelector(".modal__preview-image"),this._name=this._modalElement.querySelector(".modal__image-caption")}open(e){let{name:t,link:s}=e;this._image.src=s,this._image.alt=t,this._name.textContent=t,super.open()}}({modalSelector:"#preview__image-modal"});function E(e){v.open(e)}v.setEventListeners();const S=new i({modalSelector:"#profile__edit-modal"},(function(e){p((function(){return h.setUserInfo(e).then((e=>{_.setUserInfo(e)}))}),S)}));S.setEventListeners();const f=new i({modalSelector:"#card__add-modal"},(function(e){p((function(){return h.addCard(e).then((e=>{const t=u(e);m.addItem(t)}))}),f)}));function b(e){e.isLiked?h.removeLike(e.id).then((t=>{e.handleLikeIcon(t.isLiked)})).catch((e=>{console.error(e)})):h.likeCard(e.id).then((t=>{e.handleLikeIcon(t.isLiked)})).catch(console.error)}f.setEventListeners();const L=new class extends r{constructor(e,t){let{modalSelector:s}=e;super({modalSelector:s}),this._handleFormSubmit=t,this._form=this._modalElement.querySelector(".modal__form")}setSubmitAction(e){this._handleFormSubmit=e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}({modalSelector:"#delete__card-modal"},k);function k(e){L.open(),L.setSubmitAction((()=>{h.removeCard(e.id).then((()=>{e.handleDeleteIcon(),L.close()})).catch(console.error)}))}L.setEventListeners();const y=new i({modalSelector:"#avatar__edit-modal"},(function(e){p((function(){return h.updateAvatar(e).then((e=>{_.setUserAvatar(e.avatar),y.close()}))}),y)}));y.setEventListeners(),n.addEventListener("click",(()=>{S.open(),function(){const e=_.getUserInfo();o.value=e.name,a.value=e.description}(),g[S.getFormName()].resetValidation()})),c.addEventListener("click",(()=>{f.open(),g[f.getFormName()].resetValidation()})),l.addEventListener("click",(()=>{y.open(),g[y.getFormName()].resetValidation()}));const g={};var C;C={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},Array.from(document.querySelectorAll(C.formSelector)).forEach((e=>{const t=new s(C,e),r=e.getAttribute("name");g[r]=t,t.enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTbUQsaUJBQWlCNUIsRUFBTzhJLGVBQ3BEakosU0FBU0ksSUFDaEIsTUFBTWdKLEVBQVksSUFBSWxKLEVBQWNDLEVBQVFDLEdBQ3RDaUosRUFBV2pKLEVBQUt3RCxhQUFhLFFBRW5Db0YsRUFBZUssR0FBWUQsRUFDM0JBLEVBQVVuSCxrQkFBa0IsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL01vZGFsLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL01vZGFsV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL01vZGFsV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL01vZGFsV2l0aENvbmZpcm1hdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgeyBuYW1lLCBsaW5rLCBpc0xpa2VkLCBfaWQgfSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5pc0xpa2VkID0gaXNMaWtlZDtcbiAgICB0aGlzLmlkID0gX2lkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZURlbGV0ZUljb24oKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgaGFuZGxlTGlrZUljb24oaXNMaWtlZCkge1xuICAgIHRoaXMuaXNMaWtlZCA9IGlzTGlrZWQ7XG4gICAgdGhpcy5yZW5kZXJMaWtlcygpO1xuICB9XG5cbiAgcmVuZGVyTGlrZXMoKSB7XG4gICAgaWYgKHRoaXMuaXNMaWtlZCkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICApO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMucmVuZGVyTGlrZXMoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLnJldmVyc2UoKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtKSB7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuXHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuXHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiIFwiO1xyXG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuX2lucHV0RWxlbWVudHMuZXZlcnkoXHJcbiAgICAgIChpbnB1dEVsZW1lbnQpID0+IGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9kaXNhYmxlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgX2VuYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKHsgbW9kYWxTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb2RhbFNlbGVjdG9yKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX21vZGFsRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxXaXRoRm9ybSBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IoeyBtb2RhbFNlbGVjdG9yIH0sIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcih7IG1vZGFsU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX3NhdmVCdXR0b24gPSB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX2J1dHRvblRleHQgPSB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuXG4gIGdldEZvcm1OYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9mb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XG4gICAgaXNMb2FkaW5nXG4gICAgICA/ICh0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQpXG4gICAgICA6ICh0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fYnV0dG9uVGV4dCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbi8vIFByb2ZpbGUgTW9kYWxcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19lZGl0LW1vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZV9fZWRpdC1idXR0b25cIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1mb3JtXCJdO1xuZXhwb3J0IGNvbnN0IGNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLm1vZGFsX19pbnB1dF90eXBlX25hbWVcIlxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLm1vZGFsX19pbnB1dF90eXBlX2Rlc2NyaXB0aW9uXCJcbik7XG5leHBvcnQgY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGVfX2F2YXRhci1lZGl0LWJ1dHRvblwiXG4pO1xuXG4vLyBDYXJkIFRlbXBsYXRlXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlID1cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkX190ZW1wbGF0ZVwiKS5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkO1xuXG4vLyBBZGQgQ2FyZCBNb2RhbFxuZXhwb3J0IGNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZF9fYWRkLW1vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVfX2FkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImNhcmQtZm9ybVwiXTtcbmV4cG9ydCBjb25zdCBjYXJkRGVsZXRlQnV0dG9uID0gY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuKTtcbiIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IE1vZGFsV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvTW9kYWxXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IE1vZGFsV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgTW9kYWxXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aENvbmZpcm1hdGlvbi5qc1wiO1xuaW1wb3J0IHtcbiAgY29uZmlnLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgcHJvZmlsZUZvcm0sXG4gIHByb2ZpbGVUaXRsZUlucHV0LFxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcbiAgYWRkQ2FyZEJ1dHRvbixcbiAgY2FyZEZvcm0sXG4gIGVkaXRBdmF0YXJCdXR0b24sXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8gVXNlciBJbmZvXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgZGVzY3JpcHRpb25TZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2F2YXRhclwiLFxufSk7XG5cbi8vIEFQSVxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMjRkMjQxNTAtZjM0Mi00YjIxLWJhMzctNDNjOTZjODdmMTU4XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuLy8gQ3JlYXRlIENhcmRcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGNhcmREYXRhLFxuICAgIFwiI2NhcmRfX3RlbXBsYXRlXCIsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKTtcbiAgcmV0dXJuIGNhcmQuZ2V0Q2FyZCgpO1xufVxuXG5sZXQgY2FyZFNlY3Rpb247XG5cbi8vIFVzZXIgSW5mbyBhbmQgSW5pdGlhbCBDYXJkc1xuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxuICAudGhlbigoW3VzZXJEYXRhLCBjYXJkRGF0YV0pID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YS5hdmF0YXIpO1xuICAgIGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gICAgICB7XG4gICAgICAgIGl0ZW1zOiBjYXJkRGF0YSxcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcbiAgICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIFwiLmNhcmRzX19saXN0XCJcbiAgICApO1xuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XG4gIH0pXG4gIC5jYXRjaChjb25zb2xlLmVycm9yKTtcblxuLy8gU3VibWl0IEhhbmRsZXJcbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChyZXF1ZXN0LCBtb2RhbCwgbG9hZGluZ1RleHQpIHtcbiAgbW9kYWwucmVuZGVyTG9hZGluZyh0cnVlLCBsb2FkaW5nVGV4dCk7XG4gIHJlcXVlc3QoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIG1vZGFsLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBtb2RhbC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLy8gSW1hZ2UgTW9kYWxcbmNvbnN0IG1vZGFsV2l0aEltYWdlID0gbmV3IE1vZGFsV2l0aEltYWdlKHtcbiAgbW9kYWxTZWxlY3RvcjogXCIjcHJldmlld19faW1hZ2UtbW9kYWxcIixcbn0pO1xuXG5tb2RhbFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmREYXRhKSB7XG4gIG1vZGFsV2l0aEltYWdlLm9wZW4oY2FyZERhdGEpO1xufVxuXG4vLyBFZGl0IFByb2ZpbGUgTW9kYWxcbmNvbnN0IGVkaXRNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKFxuICB7XG4gICAgbW9kYWxTZWxlY3RvcjogXCIjcHJvZmlsZV9fZWRpdC1tb2RhbFwiLFxuICB9LFxuICBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdFxuKTtcblxuZWRpdE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGRhdGEpIHtcbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIGFwaS5zZXRVc2VySW5mbyhkYXRhKS50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgfSk7XG4gIH1cbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBlZGl0TW9kYWwpO1xufVxuXG4vLyBBZGQgQ2FyZCBNb2RhbFxuY29uc3QgbmV3Q2FyZE1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oXG4gIHtcbiAgICBtb2RhbFNlbGVjdG9yOiBcIiNjYXJkX19hZGQtbW9kYWxcIixcbiAgfSxcbiAgaGFuZGxlQ2FyZEZvcm1TdWJtaXRcbik7XG5cbm5ld0NhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVDYXJkRm9ybVN1Ym1pdChkYXRhKSB7XG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBhcGkuYWRkQ2FyZChkYXRhKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKHJlcyk7XG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xuICAgIH0pO1xuICB9XG4gIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgbmV3Q2FyZE1vZGFsKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcbiAgaWYgKGNhcmQuaXNMaWtlZCkge1xuICAgIGFwaVxuICAgICAgLnJlbW92ZUxpa2UoY2FyZC5pZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgY2FyZC5oYW5kbGVMaWtlSWNvbihyZXMuaXNMaWtlZCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYXBpXG4gICAgICAubGlrZUNhcmQoY2FyZC5pZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgY2FyZC5oYW5kbGVMaWtlSWNvbihyZXMuaXNMaWtlZCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICB9XG59XG5cbi8vIERlbGV0ZSBDYXJkIE1vZGFsXG5jb25zdCBuZXdDb25maXJtYXRpb25Nb2RhbCA9IG5ldyBNb2RhbFdpdGhDb25maXJtYXRpb24oXG4gIHtcbiAgICBtb2RhbFNlbGVjdG9yOiBcIiNkZWxldGVfX2NhcmQtbW9kYWxcIixcbiAgfSxcbiAgaGFuZGxlRGVsZXRlQ2xpY2tcbik7XG5cbm5ld0NvbmZpcm1hdGlvbk1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcbiAgbmV3Q29uZmlybWF0aW9uTW9kYWwub3BlbigpO1xuICBuZXdDb25maXJtYXRpb25Nb2RhbC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xuICAgIGFwaVxuICAgICAgLnJlbW92ZUNhcmQoY2FyZC5pZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5oYW5kbGVEZWxldGVJY29uKCk7XG4gICAgICAgIG5ld0NvbmZpcm1hdGlvbk1vZGFsLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICB9KTtcbn1cblxuLy8gRWRpdCBBdmF0YXIgTW9kYWxcbmNvbnN0IGVkaXRBdmF0YXJNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKFxuICB7XG4gICAgbW9kYWxTZWxlY3RvcjogXCIjYXZhdGFyX19lZGl0LW1vZGFsXCIsXG4gIH0sXG4gIGhhbmRsZUF2YXRhckZvcm1TdWJtaXRcbik7XG5cbmVkaXRBdmF0YXJNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KGRhdGEpIHtcbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIGFwaS51cGRhdGVBdmF0YXIoZGF0YSkudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHJlcy5hdmF0YXIpO1xuICAgICAgZWRpdEF2YXRhck1vZGFsLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBlZGl0QXZhdGFyTW9kYWwpO1xufVxuXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oKSB7XG4gIGNvbnN0IGluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IGluZm8ubmFtZTtcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBpbmZvLmRlc2NyaXB0aW9uO1xufVxuXG4vLyBFdmVudCBMaXN0ZW5lcnNcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGVkaXRNb2RhbC5vcGVuKCk7XG4gIGZpbGxQcm9maWxlRm9ybSgpO1xuICBmb3JtVmFsaWRhdG9yc1tlZGl0TW9kYWwuZ2V0Rm9ybU5hbWUoKV0ucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBuZXdDYXJkTW9kYWwub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yc1tuZXdDYXJkTW9kYWwuZ2V0Rm9ybU5hbWUoKV0ucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBlZGl0QXZhdGFyTW9kYWwub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yc1tlZGl0QXZhdGFyTW9kYWwuZ2V0Rm9ybU5hbWUoKV0ucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuLy8gRm9ybSBWYWxpZGF0aW9uXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm0pID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm0pO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbihjb25maWcpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgZGVzY3JpcHRpb25TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fZGVzY3JpcHRpb24udGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gYWJvdXQ7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKGF2YXRhcikge1xuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfaGFuZGxlUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIF9yZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgZGVzY3JpcHRpb24gfSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dDogZGVzY3JpcHRpb24sXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWwuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsV2l0aEltYWdlIGV4dGVuZHMgTW9kYWwge1xyXG4gIGNvbnN0cnVjdG9yKHsgbW9kYWxTZWxlY3RvciB9KSB7XHJcbiAgICBzdXBlcih7IG1vZGFsU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LWltYWdlXCIpO1xyXG4gICAgdGhpcy5fbmFtZSA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXB0aW9uXCIpO1xyXG4gIH1cclxuXHJcbiAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IoeyBtb2RhbFNlbGVjdG9yIH0sIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcih7IG1vZGFsU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICB9XG5cbiAgc2V0U3VibWl0QWN0aW9uKGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KCk7XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwibmFtZSIsImxpbmsiLCJpc0xpa2VkIiwiX2lkIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJpZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2FyZEltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVCdXR0b24iLCJfbGlrZUJ1dHRvbiIsImhhbmRsZURlbGV0ZUljb24iLCJfY2FyZEVsZW1lbnQiLCJyZW1vdmUiLCJoYW5kbGVMaWtlSWNvbiIsInJlbmRlckxpa2VzIiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2V0Q2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsInJlbmRlckl0ZW1zIiwicmV2ZXJzZSIsImZvckVhY2giLCJpdGVtIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm0iLCJfZm9ybSIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsIl9lcnJvck1lc3NhZ2VFbGVtZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRFbGVtZW50cyIsImV2ZXJ5IiwiX2Rpc2FibGVCdXR0b24iLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJfZW5hYmxlQnV0dG9uIiwicXVlcnlTZWxlY3RvckFsbCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0VmFsaWRhdGlvbiIsIk1vZGFsIiwibW9kYWxTZWxlY3RvciIsIl9tb2RhbEVsZW1lbnQiLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiTW9kYWxXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3NhdmVCdXR0b24iLCJfYnV0dG9uVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9pbnB1dExpc3QiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJnZXRGb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInJlc2V0IiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlVGl0bGVJbnB1dCIsImZvcm1zIiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJlZGl0QXZhdGFyQnV0dG9uIiwiY2FyZFRlbXBsYXRlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJhZGRDYXJkQnV0dG9uIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJkZXNjcmlwdGlvblNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfZGVzY3JpcHRpb24iLCJfYXZhdGFyIiwiZ2V0VXNlckluZm8iLCJkZXNjcmlwdGlvbiIsInNldFVzZXJJbmZvIiwiX3JlZjIiLCJhYm91dCIsInNldFVzZXJBdmF0YXIiLCJhdmF0YXIiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfaGFuZGxlUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX3JlcXVlc3QiLCJ1cmwiLCJvcHRpb25zIiwiZmV0Y2giLCJ0aGVuIiwiZ2V0SW5pdGlhbENhcmRzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwiX3JlZjMiLCJyZW1vdmVDYXJkIiwiY2FyZElkIiwibGlrZUNhcmQiLCJyZW1vdmVMaWtlIiwidXBkYXRlQXZhdGFyIiwiX3JlZjQiLCJhdXRob3JpemF0aW9uIiwiY3JlYXRlQ2FyZCIsImNhcmREYXRhIiwiY2FyZFNlY3Rpb24iLCJoYW5kbGVTdWJtaXQiLCJyZXF1ZXN0IiwibW9kYWwiLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsImZpbmFsbHkiLCJhbGwiLCJ1c2VyRGF0YSIsImNhcmQiLCJtb2RhbFdpdGhJbWFnZSIsIl9pbWFnZSIsImVkaXRNb2RhbCIsImRhdGEiLCJuZXdDYXJkTW9kYWwiLCJlcnIiLCJuZXdDb25maXJtYXRpb25Nb2RhbCIsInNldFN1Ym1pdEFjdGlvbiIsImVkaXRBdmF0YXJNb2RhbCIsImluZm8iLCJmaWxsUHJvZmlsZUZvcm0iLCJmb3JtVmFsaWRhdG9ycyIsImZvcm1TZWxlY3RvciIsIkFycmF5IiwiZnJvbSIsInZhbGlkYXRvciIsImZvcm1OYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==